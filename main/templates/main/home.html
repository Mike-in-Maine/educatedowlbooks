{% extends "main/base.html" %}
{% load static %}

{% block title %}Educated Owl Books{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/home.css' %}">
{% endblock %}

{% block content %}
    <section class="home-hero">
        <h2>Hello World of Books!!!</h2>
        <p>Educated Owl Books is being carefully prepared.</p>
        <p>We specialize in rare, academic, and historical books.</p>
    </section>

    {% if books %}
        <div class="catalog-preview">
            <h3>Sample from the catalog</h3>

            <div class="book-grid">
                {% for book in books %}
                    <div class="book-item">
                        <div class="book-cover">
                            {% if book.cover_image %}
                                <a href="{% url 'book_detail' book.isbn13 %}">
                                    <img src="{{ book.cover_image.url }}" alt="{{ book.title }}">
                                </a>
                            {% else %}
                                <div class="no-cover">No Image</div>
                            {% endif %}
                        </div>

                        <div class="book-details">
                            <span class="book-title">{{ book.title|truncatechars:40 }}</span>
                            <span class="book-author">by {{ book.author|truncatechars:30 }}</span>
                            
                            <div class="book-meta-secondary">
                                {{ book.publisher }} | {{ book.publication_year|default:"N/A" }}<br>
                                {{ book.language }} | {{ book.pages|default:"?" }} pages<br>
                                <small class="text-muted">ISBN-10: {{ book.isbn10 }}</small>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    {% endif %}

    <section class="cta-section">
        <a href="{% url 'public_listings' %}" class="base-link">
            <strong>Browse books currently for sale &rarr;</strong>
        </a>
    </section>
{% endblock %}